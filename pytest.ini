[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
norecursedirs = .git .venv .pytest_cache __pycache__ dist build
pythonpath = src

markers =
    unit: fast, isolated unit tests
    integration: tests requiring external services (db, docker, network)
    e2e: end-to-end tests
    regression: regression tests
    requires_db: requires live database services
    requires_mcp: requires live MCP server connection
    requires_control_db: requires control-plane database with schema
    dataset_synthetic: require synthetic dataset
    dataset_pagila: require pagila dataset
    pagila: alias for dataset_pagila
